<div class="min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900 p-6 mt-16">
  <div class="max-w-7xl mx-auto">
    <!-- Header -->
    <div class="flex justify-between items-center mb-8 animate-fade-in">
      <div class="flex items-center space-x-3">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white animate-pulse" fill="none" viewBox="0 0 24 24"
             stroke="currentColor">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2}
                d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"/>
        </svg>
        <h1 class="text-4xl font-bold text-white">User Management</h1>
      </div>
    </div>

    <!-- Loading State -->
    <div *ngIf="loading$ | async" class="flex justify-center items-center py-12">
      <div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"></div>
    </div>

    <!-- Error State -->
    <div *ngIf="error$ | async as error"
         class="max-w-2xl mx-auto mb-6 p-4 bg-red-500/10 backdrop-blur-md border border-red-500/20 text-red-200 rounded-lg animate-fade-in">
      {{ error }}
    </div>

    <!-- Users Table -->
    <div *ngIf="users$ | async as users" class="bg-white/10 backdrop-blur-md rounded-xl overflow-hidden animate-fade-in-up">
      <table class="min-w-full">
        <thead class="bg-white/10">
        <tr>
          <th class="px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider">Username</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider">Roles</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider">Actions</th>
        </tr>
        </thead>
        <tbody class="divide-y divide-white/10">
        <tr *ngFor="let user of users" class="hover:bg-white/5 transition-colors duration-200">
          <td class="px-6 py-4 text-white">{{ user.username }}</td>
          <td class="px-6 py-4 text-indigo-300">{{ user.roles.join(', ') }}</td>
          <td class="px-6 py-4">
            <button
              (click)="onUpdateRoles(user.id, user.roles.includes('ROLE_ADMIN') ? ['ROLE_USER'] : ['ROLE_ADMIN'])"
              class="px-4 py-2 bg-indigo-500 text-white rounded-full hover:bg-indigo-600 transition-all duration-200"
            >
              {{ user.roles.includes('ROLE_ADMIN') ? 'Make User' : 'Make Admin' }}
            </button>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
